<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Chatbot - TechGuy's Learning Hub</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .debug-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
    <link rel="stylesheet" href="assets/css/chatbot.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <h1>🔍 Chatbot Debug Page</h1>
    
    <div class="debug-info">
        <h2>Debug Information</h2>
        <div id="debug-output"></div>
    </div>

    <!-- AI Chatbot Widget -->
    <div id="chatbot-widget" class="chatbot-widget">
        <div class="chatbot-header" onclick="toggleChatbot()">
            <div class="chatbot-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="chatbot-info">
                <h4>AI Learning Assistant</h4>
                <p>Ask me about algorithms, languages, or anything!</p>
            </div>
            <div class="chatbot-toggle">
                <i class="fas fa-comments" id="chat-icon"></i>
                <i class="fas fa-times" id="close-icon" style="display: none;"></i>
            </div>
        </div>
        
        <div class="chatbot-body" id="chatbot-body" style="display: none;">
            <div class="chat-messages" id="chat-messages">
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <p>👋 Hi! I'm your AI learning assistant. I can help you with:</p>
                        <ul>
                            <li>📚 Computer Science concepts and algorithms</li>
                            <li>🌍 Language learning tips and grammar</li>
                            <li>💡 Study strategies and resources</li>
                            <li>🎯 Learning path recommendations</li>
                        </ul>
                        <p>What would you like to learn about today?</p>
                    </div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <input type="text" id="chat-input" placeholder="Type your message..." maxlength="500">
                    <button id="send-message" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="quick-actions">
                    <button class="quick-btn" data-question="Tell me about sorting algorithms">Sorting Algorithms</button>
                    <button class="quick-btn" data-question="How to improve English vocabulary?">English Tips</button>
                    <button class="quick-btn" data-question="Best study strategies for algorithms">Study Tips</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Debug function
        function addDebugMessage(message, type = 'info') {
            const debugOutput = document.getElementById('debug-output');
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            debugOutput.appendChild(div);
        }

        // Check if chatbot elements exist
        document.addEventListener('DOMContentLoaded', function() {
            addDebugMessage('DOM loaded, checking chatbot elements...', 'info');
            
            const widget = document.getElementById('chatbot-widget');
            const header = document.querySelector('.chatbot-header');
            const body = document.getElementById('chatbot-body');
            const input = document.getElementById('chat-input');
            
            if (widget) {
                addDebugMessage('✅ Chatbot widget found', 'success');
                console.log('Chatbot widget:', widget);
            } else {
                addDebugMessage('❌ Chatbot widget NOT found', 'error');
            }
            
            if (header) {
                addDebugMessage('✅ Chatbot header found', 'success');
            } else {
                addDebugMessage('❌ Chatbot header NOT found', 'error');
            }
            
            if (body) {
                addDebugMessage('✅ Chatbot body found', 'success');
            } else {
                addDebugMessage('❌ Chatbot body NOT found', 'error');
            }
            
            if (input) {
                addDebugMessage('✅ Chat input found', 'success');
            } else {
                addDebugMessage('❌ Chat input NOT found', 'error');
            }
            
            // Check CSS
            const styles = getComputedStyle(widget);
            addDebugMessage(`Widget position: ${styles.position}`, 'info');
            addDebugMessage(`Widget bottom: ${styles.bottom}`, 'info');
            addDebugMessage(`Widget right: ${styles.right}`, 'info');
            addDebugMessage(`Widget z-index: ${styles.zIndex}`, 'info');
            addDebugMessage(`Widget display: ${styles.display}`, 'info');
            
            // Check if FontAwesome is loaded
            const testIcon = document.createElement('i');
            testIcon.className = 'fas fa-robot';
            document.body.appendChild(testIcon);
            const iconStyles = getComputedStyle(testIcon);
            if (iconStyles.fontFamily.includes('FontAwesome')) {
                addDebugMessage('✅ FontAwesome loaded', 'success');
            } else {
                addDebugMessage('❌ FontAwesome NOT loaded', 'error');
            }
            document.body.removeChild(testIcon);
        });

        // Simple chatbot functions for testing
        function toggleChatbot() {
            const body = document.getElementById('chatbot-body');
            const icon = document.getElementById('chat-icon');
            const closeIcon = document.getElementById('close-icon');
            
            if (body.style.display === 'none') {
                body.style.display = 'block';
                icon.style.display = 'none';
                closeIcon.style.display = 'inline-block';
                addDebugMessage('Chatbot opened', 'success');
            } else {
                body.style.display = 'none';
                icon.style.display = 'inline-block';
                closeIcon.style.display = 'none';
                addDebugMessage('Chatbot closed', 'info');
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                addDebugMessage(`Message sent: "${message}"`, 'success');
                input.value = '';
                
                // Simple response
                setTimeout(() => {
                    const messagesContainer = document.getElementById('chat-messages');
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message bot-message';
                    messageDiv.innerHTML = `
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <p>Thanks for your message: "${message}"</p>
                        </div>
                    `;
                    messagesContainer.appendChild(messageDiv);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
            }
        }

        // Enter key support
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.activeElement.id === 'chat-input') {
                sendMessage();
            }
        });
    </script>
</body>
</html>
